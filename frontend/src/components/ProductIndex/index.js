import React from "react";
import { useEffect } from "react";
import { useDispatch, useSelector } from 'react-redux'
import { fetchProducts, getProducts } from "../../store/products";
import { Link } from 'react-router-dom'

export const ProductIndex = (props) => {
    const dispatch = useDispatch();
    const products = useSelector(getProducts);
    console.log("Products: ", products)

    useEffect(() =>{
        dispatch(fetchProducts());
    }, [])

    return(
    <div className="products-container">
            {products.map(product => (
                <div key={product.id} className="product">
                    <h2>{product.title}</h2>
                    <p>Description: {product.description}</p>
                    <p>Price: ${product.price}</p>
                    <p>Stock Quantity: {product.stockQuantity}</p> 
                    <p>Category: {product.category.name}</p>
                    <p>Seller: {product.user.username}</p>
                    <img src="data:image/jpeg;base64,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" alt="DemoPic" />
                    <br/>
                    <Link to={`/products/${product.id}`}>Product Show</Link>
                </div>
            ))}
        </div>
    );
}

export default ProductIndex;